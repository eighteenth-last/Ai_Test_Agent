import{t as re,a as F}from"./index-DiZwQw_Q.js";import{u as Pe}from"./useLazyLoad-CF_UHKIQ.js";import{_ as Ae,u as je,j as Me,c as f,d as n,w as s,e as l,N as L,k as te,r as _,f as u,b as a,l as he,m as Fe,n as ie,p as V,q as p,B as N,i,t as r,s as d,v as I,x as se,y as k,F as B,z as c,A as oe,C as de,D as A,E as K,G as ve,H as fe,I as pe,J,K as O,L as ye,M as me,O as ae,P as j}from"./index-9-2YgmGC.js";const Ve={class:"execute-case-view"},Je={class:"flex items-center justify-between"},Oe={style:{"margin-top":"20px",display:"flex","justify-content":"flex-end"}},Ke={class:"flex items-center justify-between"},qe={key:2},Ge={class:"flex items-center justify-between"},He={class:"flex items-center gap-2"},Qe={class:"agent-output"},We={key:0,class:"executing-status"},Xe={key:1},Ye={class:"mt-2"},Ze={key:0},Re={key:1,class:"text-red-500 mt-2"},el={class:"step-detail"},ll={key:0},tl={class:"thinking-text"},sl={key:1},al=["href"],ul={key:2},nl={key:3,class:"timestamp"},rl={class:"json-output"},il={class:"flex items-center justify-between"},ol={key:1},dl={class:"flex items-center gap-2"},vl={class:"agent-output"},fl={key:0,class:"executing-status"},pl={key:1},yl={class:"mt-2"},ml={key:0},gl={class:"flex items-center gap-2"},kl={key:0},_l={key:0},bl={class:"step-detail"},xl={key:0},wl={class:"thinking-text"},zl={key:1},Cl=["href"],Nl={key:2},Il={style:{"font-size":"12px","margin-top":"4px"}},$l={class:"step-detail"},Ul={key:0},Sl={class:"thinking-text"},Ll={key:1},Bl={class:"memory-text"},cl={key:2},Tl=["href"],Dl={key:3},El={class:"json-output"},Pl={__name:"FuncTest",setup(Al){const b=je(),ge=Me(),ke=ae({case_type:"åŠŸèƒ½æµ‹è¯•"}),{data:_e,loading:q,currentPage:G,pageSize:H,total:be,goToPage:xe,changePageSize:we}=Pe({fetchFunction:re.getList,pageSize:10,filters:ke,autoLoad:!0}),Q=_(!1),C=_(null),W=_({}),M=_(!1),T=_(null),x=_(!1),y=_(null),D=_(!1),X=_(!1),Y=_(!1),Z=_(!1),E=_(null),$=_([]),w=_(!1),h=_(!1),R=_([]),v=_(null),U=ae({headless:!0,max_steps:20,use_vision:!1}),S=ae({headless:!0,max_steps:50,use_vision:!1}),ze=o=>({1:"error",2:"warning",3:"info",4:"default"})[String(o)]||"default",ue=o=>/^[1-4]$/.test(String(o))?`${o}çº§`:o,Ce=[{type:"selection"},{title:"ID",key:"id",width:80},{title:"æ¨¡å—",key:"module",width:120},{title:"ç”¨ä¾‹åç§°",key:"title",width:200,ellipsis:{tooltip:!0}},{title:"æ­¥éª¤",key:"steps",render(o){var e;return j("div",{},(e=o.steps)==null?void 0:e.map((t,m)=>j("div",{style:"margin: 2px 0; font-size: 12px;"},`${m+1}. ${t}`)))}},{title:"ä¼˜å…ˆçº§",key:"priority",width:100,render(o){return j(I,{type:ze(o.priority),size:"small"},{default:()=>ue(o.priority)})}},{title:"ç”¨ä¾‹ç±»åž‹",key:"case_type",width:100},{title:"æ“ä½œ",key:"actions",width:200,fixed:"right",render(o){return j(V,{},{default:()=>[j(N,{size:"small",type:"primary",onClick:()=>Ne(o)},{default:()=>"æŸ¥çœ‹è¯¦æƒ…"}),j(N,{size:"small",type:"success",onClick:()=>Ie(o),loading:W.value[o.id]},{default:()=>"ðŸ¤– æ‰§è¡Œç”¨ä¾‹"})]})}}],Ne=o=>{C.value=o,Q.value=!0},Ie=o=>{T.value=o,y.value=null,x.value=!1,M.value=!0},$e=async()=>{if(E.value){X.value=!0;try{(await F.pauseTask(E.value)).success&&(D.value=!0,b.success("å·²æš‚åœæ‰§è¡Œ"))}catch(o){b.error("æš‚åœå¤±è´¥: "+(o.message||"æœªçŸ¥é”™è¯¯"))}finally{X.value=!1}}},Ue=async()=>{if(E.value){Y.value=!0;try{(await F.resumeTask(E.value)).success&&(D.value=!1,b.success("å·²æ¢å¤æ‰§è¡Œ"))}catch(o){b.error("æ¢å¤å¤±è´¥: "+(o.message||"æœªçŸ¥é”™è¯¯"))}finally{Y.value=!1}}},Se=async()=>{E.value&&ge.warning({title:"ç¡®è®¤åœæ­¢",content:"ç¡®å®šè¦åœæ­¢å½“å‰æµ‹è¯•å—ï¼Ÿåœæ­¢åŽæ— æ³•æ¢å¤ã€‚",positiveText:"ç¡®å®š",negativeText:"å–æ¶ˆ",onPositiveClick:async()=>{Z.value=!0;try{(await F.stopTask(E.value)).success&&(x.value=!1,D.value=!1,b.success("å·²åœæ­¢æ‰§è¡Œ"),y.value={status:"fail",error_message:"ç”¨æˆ·æ‰‹åŠ¨åœæ­¢",total_steps:0,duration:0,history:null})}catch(o){b.error("åœæ­¢å¤±è´¥: "+(o.message||"æœªçŸ¥é”™è¯¯"))}finally{Z.value=!1}}})},Le=async()=>{const o=T.value.id;x.value=!0,D.value=!1,E.value=o,W.value[o]=!0;try{b.info("ðŸ¤– AI æ­£åœ¨æŽ¥ç®¡æµè§ˆå™¨æ‰§è¡Œæµ‹è¯•...");const e=await F.executeBrowserUse(o,U.headless,U.max_steps,U.use_vision);e.success?(b.success("æ‰§è¡Œå®Œæˆï¼"),y.value=e.data):(b.error(e.message||"æ‰§è¡Œå¤±è´¥"),y.value={status:"fail",error_message:e.message,total_steps:0,duration:0,history:null})}catch(e){b.error("æ‰§è¡Œå¤±è´¥: "+(e.message||"æœªçŸ¥é”™è¯¯")),console.error(e),y.value={status:"fail",error_message:e.message||"æœªçŸ¥é”™è¯¯",total_steps:0,duration:0,history:null}}finally{x.value=!1,D.value=!1,E.value=null,W.value[o]=!1}},Be=async()=>{if($.value.length<2){b.warning("è¯·è‡³å°‘é€‰æ‹©2æ¡ç”¨ä¾‹è¿›è¡Œæ‰¹é‡æ‰§è¡Œ");return}try{q.value=!0;const o=$.value.map(t=>re.getById(t)),e=await Promise.all(o);R.value=e.map(t=>t.data||t),v.value=null,w.value=!1,h.value=!0}catch(o){b.error("èŽ·å–ç”¨ä¾‹è¯¦æƒ…å¤±è´¥"),console.error(o)}finally{q.value=!1}},ce=async()=>{const o=$.value;w.value=!0;try{b.info(`ðŸ¤– AI æ­£åœ¨æ‰¹é‡æ‰§è¡Œ ${o.length} æ¡æµ‹è¯•ç”¨ä¾‹...`);const e=await F.executeBatchBrowserUse(o,S.headless,S.max_steps,S.use_vision);if(e.success){b.success("æ‰¹é‡æ‰§è¡Œå®Œæˆï¼");const t=e.data||e;if(t.results&&t.summary){const m=t.summary,g=[];let z=0,ne=0,ee="";t.results.forEach((De,Ee)=>{const P=De.data||{};z+=P.total_steps||0,ne+=P.duration||0,P.history&&P.history.steps&&P.history.steps.forEach(le=>{g.push({...le,title:`[ç”¨ä¾‹${Ee+1}] ${le.title||le.url||"æ‰§è¡Œä¸­"}`})}),P.history&&P.history.final_state&&(ee=P.history.final_state.url||ee)}),v.value={status:m.failed===0?"pass":"fail",total_steps:z,duration:ne,final_url:ee,error_message:m.failed>0?`${m.failed} æ¡ç”¨ä¾‹æ‰§è¡Œå¤±è´¥`:"",history:{total_steps:z,steps:g},summary:m,raw_results:t.results}}else v.value=t}else b.error(e.message||"æ‰¹é‡æ‰§è¡Œå¤±è´¥"),v.value={status:"fail",error_message:e.message,total_steps:0,duration:0,history:null}}catch(e){b.error("æ‰¹é‡æ‰§è¡Œå¤±è´¥: "+(e.message||"æœªçŸ¥é”™è¯¯")),console.error(e),v.value={status:"fail",error_message:e.message||"æœªçŸ¥é”™è¯¯",total_steps:0,duration:0,history:null}}finally{w.value=!1}},Te=()=>{h.value=!1,$.value=[]};return(o,e)=>(u(),f("div",Ve,[n(l(L),null,{header:s(()=>[...e[15]||(e[15]=[a("div",{class:"flex items-center gap-2"},[a("i",{class:"fas fa-robot text-xl text-primary"}),a("span",{class:"text-lg font-bold"},"æ‰§è¡Œç”¨ä¾‹ - AI æ™ºèƒ½æ“ä½œ")],-1)])]),default:s(()=>[e[16]||(e[16]=a("p",{class:"text-gray-500"}," ä½¿ç”¨ Browser-Use ç›´æŽ¥æ‰§è¡Œæµ‹è¯•ç”¨ä¾‹ï¼Œæ— éœ€ç”Ÿæˆä»£ç ï¼ŒLLM å®žæ—¶å†³ç­–æ“ä½œç½‘é¡µã€‚ æ”¯æŒå•æ¡æ‰§è¡Œæˆ–å¤šé€‰æ‰¹é‡æ‰§è¡Œï¼ˆæ™ºèƒ½åˆå¹¶å…±åŒæ­¥éª¤ï¼‰ã€‚ ",-1))]),_:1}),n(l(L),{style:{"margin-top":"20px"}},{header:s(()=>[a("div",Je,[e[18]||(e[18]=a("span",{class:"font-bold"},"æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨",-1)),n(l(V),null,{default:s(()=>[$.value.length>1?(u(),p(l(N),{key:0,type:"primary",onClick:Be,loading:w.value},{icon:s(()=>[...e[17]||(e[17]=[a("i",{class:"fas fa-play-circle"},null,-1)])]),default:s(()=>[i(" æ‰¹é‡æ‰§è¡Œ ("+r($.value.length)+" æ¡) ",1)]),_:1},8,["loading"])):d("",!0),$.value.length>0?(u(),p(l(I),{key:1,type:"info"},{default:s(()=>[i(" å·²é€‰ "+r($.value.length)+" æ¡ ",1)]),_:1})):d("",!0)]),_:1})])]),default:s(()=>[n(l(he),{columns:Ce,data:l(_e),loading:l(q),"row-key":t=>t.id,"checked-row-keys":$.value,"onUpdate:checkedRowKeys":e[0]||(e[0]=t=>$.value=t),striped:""},null,8,["data","loading","row-key","checked-row-keys"]),a("div",Oe,[n(l(Fe),{page:l(G),"onUpdate:page":[e[1]||(e[1]=t=>ie(G)?G.value=t:null),l(xe)],"page-size":l(H),"onUpdate:pageSize":[e[2]||(e[2]=t=>ie(H)?H.value=t:null),l(we)],"item-count":l(be),"page-sizes":[10,20,50],"show-size-picker":""},null,8,["page","page-size","item-count","onUpdate:page","onUpdate:pageSize"])])]),_:1}),n(l(te),{show:Q.value,"onUpdate:show":e[3]||(e[3]=t=>Q.value=t),preset:"card",title:"æµ‹è¯•ç”¨ä¾‹è¯¦æƒ…",style:{width:"800px"}},{default:s(()=>[C.value?(u(),p(l(se),{key:0,column:1,"label-placement":"left",bordered:""},{default:s(()=>[n(l(k),{label:"ID"},{default:s(()=>[i(r(C.value.id),1)]),_:1}),n(l(k),{label:"æ¨¡å—"},{default:s(()=>[i(r(C.value.module),1)]),_:1}),n(l(k),{label:"ç”¨ä¾‹åç§°"},{default:s(()=>[i(r(C.value.title),1)]),_:1}),n(l(k),{label:"å‰ç½®æ¡ä»¶"},{default:s(()=>[i(r(C.value.precondition||"æ— "),1)]),_:1}),n(l(k),{label:"æµ‹è¯•æ­¥éª¤"},{default:s(()=>[(u(!0),f(B,null,c(C.value.steps,(t,m)=>(u(),f("div",{key:m},r(m+1)+". "+r(t),1))),128))]),_:1}),n(l(k),{label:"é¢„æœŸç»“æžœ"},{default:s(()=>[i(r(C.value.expected),1)]),_:1}),n(l(k),{label:"å…³é”®è¯"},{default:s(()=>[i(r(C.value.keywords),1)]),_:1}),n(l(k),{label:"ä¼˜å…ˆçº§"},{default:s(()=>[i(r(ue(C.value.priority)),1)]),_:1}),n(l(k),{label:"ç”¨ä¾‹ç±»åž‹"},{default:s(()=>[i(r(C.value.case_type),1)]),_:1}),n(l(k),{label:"é€‚ç”¨é˜¶æ®µ"},{default:s(()=>[i(r(C.value.stage),1)]),_:1})]),_:1})):d("",!0)]),_:1},8,["show"]),n(l(te),{show:M.value,"onUpdate:show":e[9]||(e[9]=t=>M.value=t),preset:"card",title:x.value?"æ­£åœ¨æ‰§è¡Œ":"æ‰§è¡Œç”¨ä¾‹",style:{width:"1000px"},"mask-closable":!x.value,closable:!x.value},{footer:s(()=>[n(l(V),{justify:"end"},{default:s(()=>[!x.value&&!y.value?(u(),p(l(N),{key:0,onClick:e[7]||(e[7]=t=>M.value=!1)},{default:s(()=>[...e[44]||(e[44]=[i(" å–æ¶ˆ ",-1)])]),_:1})):d("",!0),!x.value&&!y.value?(u(),p(l(N),{key:1,type:"primary",onClick:Le,loading:x.value},{icon:s(()=>[...e[45]||(e[45]=[a("i",{class:"fas fa-play"},null,-1)])]),default:s(()=>[e[46]||(e[46]=i(" å¼€å§‹æ‰§è¡Œ ",-1))]),_:1},8,["loading"])):d("",!0),y.value?(u(),p(l(N),{key:2,onClick:e[8]||(e[8]=t=>M.value=!1)},{default:s(()=>[...e[47]||(e[47]=[i(" å…³é—­ ",-1)])]),_:1})):d("",!0)]),_:1})]),default:s(()=>[T.value?(u(),p(l(L),{key:0,size:"small",style:{"margin-bottom":"20px"}},{header:s(()=>[a("div",Ke,[a("span",null,[e[19]||(e[19]=a("strong",null,"æµ‹è¯•ç”¨ä¾‹:",-1)),i(" "+r(T.value.title),1)]),n(l(I),null,{default:s(()=>[i(r(T.value.case_type),1)]),_:1})])]),default:s(()=>[n(l(se),{column:1,size:"small","label-placement":"left",bordered:""},{default:s(()=>[n(l(k),{label:"æ¨¡å—"},{default:s(()=>[i(r(T.value.module),1)]),_:1}),n(l(k),{label:"å‰ç½®æ¡ä»¶"},{default:s(()=>[i(r(T.value.precondition||"æ— "),1)]),_:1}),n(l(k),{label:"æµ‹è¯•æ­¥éª¤"},{default:s(()=>[(u(!0),f(B,null,c(T.value.steps,(t,m)=>(u(),f("div",{key:m,style:{margin:"2px 0"}},r(m+1)+". "+r(t),1))),128))]),_:1}),n(l(k),{label:"é¢„æœŸç»“æžœ"},{default:s(()=>[i(r(T.value.expected),1)]),_:1})]),_:1})]),_:1})):d("",!0),n(l(oe)),!x.value&&!y.value?(u(),p(l(L),{key:1,size:"small"},{header:s(()=>[...e[20]||(e[20]=[a("strong",null,"æ‰§è¡Œé…ç½®",-1)])]),default:s(()=>[n(l(de),{model:U,"label-placement":"left","label-width":"120"},{default:s(()=>[n(l(A),{label:"æ— å¤´æ¨¡å¼"},{default:s(()=>[n(l(K),{value:U.headless,"onUpdate:value":e[4]||(e[4]=t=>U.headless=t)},null,8,["value"]),e[21]||(e[21]=a("span",{class:"tip"},"å…³é—­åŽå¯çœ‹åˆ°æµè§ˆå™¨æ“ä½œè¿‡ç¨‹",-1))]),_:1}),n(l(A),{label:"æœ€å¤§æ­¥æ•°"},{default:s(()=>[n(l(ve),{value:U.max_steps,"onUpdate:value":e[5]||(e[5]=t=>U.max_steps=t),min:5,max:100},null,8,["value"]),e[22]||(e[22]=a("span",{class:"tip"},"é˜²æ­¢æ— é™å¾ªçŽ¯",-1))]),_:1}),n(l(A),{label:"è§†è§‰èƒ½åŠ›"},{default:s(()=>[n(l(K),{value:U.use_vision,"onUpdate:value":e[6]||(e[6]=t=>U.use_vision=t)},null,8,["value"]),e[23]||(e[23]=a("span",{class:"tip"},"å¯ç”¨åŽ LLM å¯åˆ†æžæˆªå›¾ï¼ˆæˆæœ¬ç•¥é«˜ï¼‰",-1))]),_:1})]),_:1},8,["model"])]),_:1})):d("",!0),x.value||y.value?(u(),f("div",qe,[n(l(L),{size:"small"},{header:s(()=>[a("div",Ge,[a("div",He,[e[26]||(e[26]=a("i",{class:"fas fa-microchip"},null,-1)),e[27]||(e[27]=a("strong",null,"ä»£ç†äº¤äº’",-1)),x.value&&!D.value?(u(),p(l(I),{key:0,type:"info",size:"small"},{default:s(()=>[...e[24]||(e[24]=[i("æ‰§è¡Œä¸­...",-1)])]),_:1})):D.value?(u(),p(l(I),{key:1,type:"warning",size:"small"},{default:s(()=>[...e[25]||(e[25]=[i("å·²æš‚åœ",-1)])]),_:1})):y.value?(u(),p(l(I),{key:2,type:y.value.status==="pass"?"success":"error",size:"small"},{default:s(()=>[i(r(y.value.status==="pass"?"æ‰§è¡ŒæˆåŠŸ":"æ‰§è¡Œå¤±è´¥"),1)]),_:1},8,["type"])):d("",!0)]),x.value?(u(),p(l(V),{key:0},{default:s(()=>[D.value?(u(),p(l(N),{key:1,size:"small",type:"success",onClick:Ue,loading:Y.value},{default:s(()=>[...e[29]||(e[29]=[i(" ç»§ç»­æ‰§è¡Œ ",-1)])]),_:1},8,["loading"])):(u(),p(l(N),{key:0,size:"small",type:"warning",onClick:$e,loading:X.value},{default:s(()=>[...e[28]||(e[28]=[i(" æš‚åœæ‰§è¡Œ ",-1)])]),_:1},8,["loading"])),n(l(N),{size:"small",type:"error",onClick:Se,loading:Z.value},{default:s(()=>[...e[30]||(e[30]=[i(" åœæ­¢æ‰§è¡Œ ",-1)])]),_:1},8,["loading"])]),_:1})):d("",!0)])]),default:s(()=>[a("div",Qe,[x.value?(u(),f("div",We,[n(l(fe),{size:"large"}),e[31]||(e[31]=a("p",{class:"mt-4"},"AI ä»£ç†æ­£åœ¨æ‰§è¡Œæµ‹è¯•...",-1)),e[32]||(e[32]=a("p",{class:"tip"},"è¯·å‹¿å…³é—­æ­¤çª—å£",-1))])):y.value?(u(),f("div",Xe,[n(l(pe),{title:y.value.status==="pass"?"âœ“ æµ‹è¯•æ‰§è¡ŒæˆåŠŸ":"âœ— æµ‹è¯•æ‰§è¡Œå¤±è´¥",type:y.value.status==="pass"?"success":"error",style:{"margin-bottom":"20px"}},{default:s(()=>[a("div",Ye,[a("p",null,[e[33]||(e[33]=a("strong",null,"æ€»æ­¥æ•°:",-1)),i(" "+r(y.value.total_steps),1)]),a("p",null,[e[34]||(e[34]=a("strong",null,"è€—æ—¶:",-1)),i(" "+r(y.value.duration)+" ç§’",1)]),y.value.final_url?(u(),f("p",Ze,[e[35]||(e[35]=a("strong",null,"æœ€ç»ˆURL:",-1)),i(" "+r(y.value.final_url),1)])):d("",!0),y.value.error_message?(u(),f("p",Re,[e[36]||(e[36]=a("strong",null,"é”™è¯¯ä¿¡æ¯:",-1)),i(" "+r(y.value.error_message),1)])):d("",!0)])]),_:1},8,["title","type"]),y.value.history&&y.value.history.steps?(u(),p(l(J),{key:0,accordion:""},{default:s(()=>[(u(!0),f(B,null,c(y.value.history.steps,(t,m)=>(u(),p(l(O),{key:m,title:`æ­¥éª¤ ${t.step_number} - ${t.title||t.url||"æ‰§è¡Œä¸­"}`,name:m},{default:s(()=>[a("div",el,[t.thinking?(u(),f("p",ll,[e[37]||(e[37]=a("strong",null,"ðŸ’­ AI æ€è€ƒ:",-1)),e[38]||(e[38]=a("br",null,null,-1)),a("span",tl,r(t.thinking),1)])):d("",!0),t.url?(u(),f("p",sl,[e[39]||(e[39]=a("strong",null,"ðŸŒ é¡µé¢:",-1)),a("a",{href:t.url,target:"_blank",class:"url-link"},r(t.url),9,al)])):d("",!0),t.actions&&t.actions.length>0?(u(),f("p",ul,[e[40]||(e[40]=a("strong",null,"âš¡ æ‰§è¡ŒåŠ¨ä½œ:",-1)),e[41]||(e[41]=a("br",null,null,-1)),(u(!0),f(B,null,c(t.actions,(g,z)=>(u(),p(l(I),{key:z,size:"small",style:{margin:"4px 4px 0 0"}},{default:s(()=>[i(r(g.action_name),1)]),_:2},1024))),128))])):d("",!0),t.timestamp?(u(),f("p",nl,[e[42]||(e[42]=a("strong",null,"â° æ—¶é—´:",-1)),i(" "+r(t.timestamp),1)])):d("",!0)])]),_:2},1032,["title","name"]))),128))]),_:1})):d("",!0)])):d("",!0)])]),_:1}),y.value?(u(),p(l(L),{key:0,size:"small",style:{"margin-top":"20px"}},{header:s(()=>[...e[43]||(e[43]=[a("strong",null,"ä»»åŠ¡è¾“å‡º",-1)])]),default:s(()=>[n(l(ye),{type:"line"},{default:s(()=>[n(l(me),{name:"history",tab:"ä»£ç†åŽ†å² JSON"},{default:s(()=>[a("div",rl,[a("pre",null,r(JSON.stringify(y.value.history,null,2)),1)])]),_:1})]),_:1})]),_:1})):d("",!0)])):d("",!0)]),_:1},8,["show","title","mask-closable","closable"]),n(l(te),{show:h.value,"onUpdate:show":e[14]||(e[14]=t=>h.value=t),preset:"card",title:w.value?"æ­£åœ¨æ‰¹é‡æ‰§è¡Œ":"æ‰¹é‡æ‰§è¡Œç”¨ä¾‹",style:{width:"1200px"},"mask-closable":!w.value,closable:!w.value},{footer:s(()=>[n(l(V),{justify:"end"},{default:s(()=>[!w.value&&!v.value?(u(),p(l(N),{key:0,onClick:e[13]||(e[13]=t=>h.value=!1)},{default:s(()=>[...e[78]||(e[78]=[i(" å–æ¶ˆ ",-1)])]),_:1})):d("",!0),!w.value&&!v.value?(u(),p(l(N),{key:1,type:"primary",onClick:ce,loading:w.value},{icon:s(()=>[...e[79]||(e[79]=[a("i",{class:"fas fa-play-circle"},null,-1)])]),default:s(()=>[e[80]||(e[80]=i(" å¼€å§‹æ‰¹é‡æ‰§è¡Œ ",-1))]),_:1},8,["loading"])):d("",!0),v.value?(u(),p(l(N),{key:2,onClick:Te},{default:s(()=>[...e[81]||(e[81]=[i(" å…³é—­ ",-1)])]),_:1})):d("",!0)]),_:1})]),default:s(()=>[n(l(L),{size:"small",style:{"margin-bottom":"20px"}},{header:s(()=>[a("div",il,[a("span",null,[a("strong",null,"å·²é€‰æ‹© "+r(R.value.length)+" æ¡ç”¨ä¾‹",1)]),n(l(I),{type:"info"},{default:s(()=>[...e[48]||(e[48]=[i("æ™ºèƒ½åˆå¹¶å…±åŒæ­¥éª¤æ‰§è¡Œ",-1)])]),_:1})])]),default:s(()=>[n(l(J),null,{default:s(()=>[(u(!0),f(B,null,c(R.value,(t,m)=>(u(),p(l(O),{key:t.id,title:`ç”¨ä¾‹ ${m+1}: ${t.title}`,name:t.id},{default:s(()=>[n(l(se),{column:1,size:"small","label-placement":"left",bordered:""},{default:s(()=>[n(l(k),{label:"æ¨¡å—"},{default:s(()=>[i(r(t.module),1)]),_:2},1024),n(l(k),{label:"å‰ç½®æ¡ä»¶"},{default:s(()=>[i(r(t.precondition||"æ— "),1)]),_:2},1024),n(l(k),{label:"æµ‹è¯•æ­¥éª¤"},{default:s(()=>[(u(!0),f(B,null,c(t.steps,(g,z)=>(u(),f("div",{key:z,style:{margin:"2px 0"}},r(z+1)+". "+r(g),1))),128))]),_:2},1024),n(l(k),{label:"é¢„æœŸç»“æžœ"},{default:s(()=>[i(r(t.expected),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["title","name"]))),128))]),_:1})]),_:1}),n(l(oe)),!w.value&&!v.value?(u(),p(l(L),{key:0,size:"small"},{header:s(()=>[...e[49]||(e[49]=[a("strong",null,"æ‰§è¡Œé…ç½®",-1)])]),default:s(()=>[n(l(de),{model:S,"label-placement":"left","label-width":"120"},{default:s(()=>[n(l(A),{label:"æ— å¤´æ¨¡å¼"},{default:s(()=>[n(l(K),{value:S.headless,"onUpdate:value":e[10]||(e[10]=t=>S.headless=t)},null,8,["value"]),e[50]||(e[50]=a("span",{class:"tip"},"å…³é—­åŽå¯çœ‹åˆ°æµè§ˆå™¨æ“ä½œè¿‡ç¨‹",-1))]),_:1}),n(l(A),{label:"æœ€å¤§æ­¥æ•°"},{default:s(()=>[n(l(ve),{value:S.max_steps,"onUpdate:value":e[11]||(e[11]=t=>S.max_steps=t),min:10,max:200},null,8,["value"]),e[51]||(e[51]=a("span",{class:"tip"},"æ‰¹é‡æ‰§è¡Œå»ºè®®è®¾ç½®è¾ƒå¤§å€¼",-1))]),_:1}),n(l(A),{label:"è§†è§‰èƒ½åŠ›"},{default:s(()=>[n(l(K),{value:S.use_vision,"onUpdate:value":e[12]||(e[12]=t=>S.use_vision=t)},null,8,["value"]),e[52]||(e[52]=a("span",{class:"tip"},"å¯ç”¨åŽ LLM å¯åˆ†æžæˆªå›¾",-1))]),_:1})]),_:1},8,["model"])]),_:1})):d("",!0),w.value||v.value?(u(),f("div",ol,[n(l(L),{size:"small"},{header:s(()=>[a("div",dl,[e[54]||(e[54]=a("i",{class:"fas fa-microchip"},null,-1)),e[55]||(e[55]=a("strong",null,"æ‰¹é‡æ‰§è¡ŒçŠ¶æ€",-1)),w.value?(u(),p(l(I),{key:0,type:"info",size:"small"},{default:s(()=>[...e[53]||(e[53]=[i("æ‰§è¡Œä¸­...",-1)])]),_:1})):v.value?(u(),p(l(I),{key:1,type:v.value.summary&&v.value.summary.failed===0?"success":v.value.summary&&v.value.summary.passed>0?"warning":"error",size:"small"},{default:s(()=>[i(r(v.value.summary?`${v.value.summary.passed} é€šè¿‡ / ${v.value.summary.failed} å¤±è´¥`:v.value.status==="pass"?"æ‰§è¡ŒæˆåŠŸ":"æ‰§è¡Œå¤±è´¥"),1)]),_:1},8,["type"])):d("",!0)])]),default:s(()=>[a("div",vl,[w.value?(u(),f("div",fl,[n(l(fe),{size:"large"}),e[56]||(e[56]=a("p",{class:"mt-4"},"AI ä»£ç†æ­£åœ¨æ‰¹é‡æ‰§è¡Œæµ‹è¯•...",-1)),e[57]||(e[57]=a("p",{class:"tip"},"æ­£åœ¨æ™ºèƒ½åˆ†æžå¹¶åˆå¹¶å…±åŒæ­¥éª¤",-1))])):v.value?(u(),f("div",pl,[n(l(pe),{title:v.value.summary&&v.value.summary.failed===0?"âœ“ æ‰¹é‡æµ‹è¯•å…¨éƒ¨é€šè¿‡":"âš  æ‰¹é‡æµ‹è¯•æ‰§è¡Œå®Œæˆ",type:v.value.summary&&v.value.summary.failed===0?"success":"warning",style:{"margin-bottom":"20px"}},{default:s(()=>[a("div",yl,[a("p",null,[e[58]||(e[58]=a("strong",null,"æ€»æ­¥æ•°:",-1)),i(" "+r(v.value.total_steps),1)]),a("p",null,[e[59]||(e[59]=a("strong",null,"è€—æ—¶:",-1)),i(" "+r(v.value.duration)+" ç§’",1)]),v.value.summary?(u(),f("p",ml,[e[60]||(e[60]=a("strong",null,"é€šè¿‡:",-1)),i(" "+r(v.value.summary.passed)+" æ¡ | ",1),e[61]||(e[61]=a("strong",null,"å¤±è´¥:",-1)),i(" "+r(v.value.summary.failed)+" æ¡ | ",1),e[62]||(e[62]=a("strong",null,"æ€»è®¡:",-1)),i(" "+r(v.value.summary.total)+" æ¡ ",1)])):d("",!0)])]),_:1},8,["title","type"]),v.value.raw_results?(u(),p(l(J),{key:0,style:{"margin-bottom":"20px"}},{default:s(()=>[(u(!0),f(B,null,c(v.value.raw_results,(t,m)=>(u(),p(l(O),{key:m,name:m},{header:s(()=>[a("div",gl,[n(l(I),{type:t.data&&t.data.status==="pass"?"success":"error",size:"small"},{default:s(()=>[i(r(t.data&&t.data.status==="pass"?"é€šè¿‡":"å¤±è´¥"),1)]),_:2},1032,["type"]),a("span",null,"ç”¨ä¾‹ "+r(m+1)+" - "+r(t.data&&t.data.duration?t.data.duration+"ç§’":""),1)])]),default:s(()=>[t.data?(u(),f("div",kl,[a("p",null,[e[63]||(e[63]=a("strong",null,"æ­¥æ•°:",-1)),i(" "+r(t.data.total_steps),1)]),a("p",null,[e[64]||(e[64]=a("strong",null,"è€—æ—¶:",-1)),i(" "+r(t.data.duration)+" ç§’",1)]),t.data.history&&t.data.history.final_state?(u(),f("p",_l,[e[65]||(e[65]=a("strong",null,"æœ€ç»ˆURL:",-1)),i(" "+r(t.data.history.final_state.url),1)])):d("",!0),t.data.history&&t.data.history.steps?(u(),p(l(J),{key:1,style:{"margin-top":"10px"}},{default:s(()=>[(u(!0),f(B,null,c(t.data.history.steps,(g,z)=>(u(),p(l(O),{key:z,title:`æ­¥éª¤ ${g.step_number} - ${g.title||g.url||"æ‰§è¡Œä¸­"}`,name:z},{default:s(()=>[a("div",bl,[g.thinking?(u(),f("p",xl,[e[66]||(e[66]=a("strong",null,"ðŸ’­ AI æ€è€ƒ:",-1)),e[67]||(e[67]=a("br",null,null,-1)),a("span",wl,r(g.thinking),1)])):d("",!0),g.url?(u(),f("p",zl,[e[68]||(e[68]=a("strong",null,"ðŸŒ é¡µé¢:",-1)),a("a",{href:g.url,target:"_blank",class:"url-link"},r(g.url),9,Cl)])):d("",!0),g.actions&&g.actions.length>0?(u(),f("p",Nl,[e[69]||(e[69]=a("strong",null,"âš¡ æ‰§è¡ŒåŠ¨ä½œ:",-1)),a("pre",Il,r(JSON.stringify(g.actions,null,2)),1)])):d("",!0)])]),_:2},1032,["title","name"]))),128))]),_:2},1024)):d("",!0)])):d("",!0)]),_:2},1032,["name"]))),128))]),_:1})):v.value.history&&v.value.history.steps?(u(),p(l(J),{key:1,accordion:""},{default:s(()=>[(u(!0),f(B,null,c(v.value.history.steps,(t,m)=>(u(),p(l(O),{key:m,title:`æ­¥éª¤ ${t.step_number} - ${t.title||t.url||"æ‰§è¡Œä¸­"}`,name:m},{default:s(()=>[a("div",$l,[t.thinking?(u(),f("p",Ul,[e[70]||(e[70]=a("strong",null,"ðŸ’­ AI æ€è€ƒ:",-1)),e[71]||(e[71]=a("br",null,null,-1)),a("span",Sl,r(t.thinking),1)])):d("",!0),t.memory?(u(),f("p",Ll,[e[72]||(e[72]=a("strong",null,"ðŸ“ è®°å¿†:",-1)),e[73]||(e[73]=a("br",null,null,-1)),a("span",Bl,r(t.memory),1)])):d("",!0),t.url?(u(),f("p",cl,[e[74]||(e[74]=a("strong",null,"ðŸŒ é¡µé¢:",-1)),a("a",{href:t.url,target:"_blank",class:"url-link"},r(t.url),9,Tl)])):d("",!0),t.actions&&t.actions.length>0?(u(),f("p",Dl,[e[75]||(e[75]=a("strong",null,"âš¡ æ‰§è¡ŒåŠ¨ä½œ:",-1)),e[76]||(e[76]=a("br",null,null,-1)),(u(!0),f(B,null,c(t.actions,(g,z)=>(u(),p(l(I),{key:z,size:"small",style:{margin:"4px 4px 0 0"}},{default:s(()=>[i(r(g.action_name),1)]),_:2},1024))),128))])):d("",!0)])]),_:2},1032,["title","name"]))),128))]),_:1})):d("",!0)])):d("",!0)])]),_:1}),v.value?(u(),p(l(L),{key:0,size:"small",style:{"margin-top":"20px"}},{header:s(()=>[...e[77]||(e[77]=[a("strong",null,"ä»»åŠ¡è¾“å‡º",-1)])]),default:s(()=>[n(l(ye),{type:"line"},{default:s(()=>[n(l(me),{name:"history",tab:"ä»£ç†åŽ†å² JSON"},{default:s(()=>[a("div",El,[a("pre",null,r(JSON.stringify(v.value.history,null,2)),1)])]),_:1})]),_:1})]),_:1})):d("",!0)])):d("",!0)]),_:1},8,["show","title","mask-closable","closable"])]))}},Fl=Ae(Pl,[["__scopeId","data-v-9750609e"]]);export{Fl as default};
